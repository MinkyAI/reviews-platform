# Reviews Platform Context

## Project Overview
A comprehensive Reviews Management Platform built with Next.js 15.5.2, designed to help businesses collect, manage, and leverage customer feedback through a seamless QR code-based review system.

## System Architecture

### 1. Reviews Landing (End-User Flow)
**Purpose**: Mobile-first QR code scanning flow for customers
- **Entry**: QR code scan from table/receipt
- **Flow**: Rate → Review → Conditional outcomes
- **Outcomes**: 
  - 5 stars → Google Reviews redirect
  - 3-4 stars → Private feedback form
  - 1-2 stars → Issue resolution flow

### 2. Admin Dashboard (Business Owner)
**Purpose**: Complete control panel for multi-client management
- **Features**:
  - Real-time analytics and KPIs
  - Review moderation and responses
  - Staff performance tracking
  - Multi-location management
  - QR code generation and management

### 3. Client Portal (Restaurant Staff)
**Purpose**: Read-only dashboard for restaurant managers
- **Features**:
  - View analytics and trends
  - Monitor review responses
  - Access performance metrics
  - Limited configuration options

## Tech Stack

### Core
- **Framework**: Next.js 15.5.2 with App Router & Turbopack
- **Runtime**: React 19.1.0
- **Language**: TypeScript 5
- **Styling**: Tailwind CSS v4 with PostCSS

### Backend
- **Database**: PostgreSQL with Prisma 6.2.0
- **Auth**: NextAuth.js 5.1.0
- **API**: Next.js API Routes
- **Validation**: Zod v3

### Frontend
- **Components**: Radix UI primitives
- **State**: Zustand v5
- **Forms**: React Hook Form v7
- **QR**: qrcode library
- **Analytics**: Vercel Analytics

## Design System

### Philosophy
Premium, modern UI inspired by:
- Airbnb's review modals
- Linear's dashboard interface  
- Stripe's KPI cards
- Vercel's clean aesthetics
- Apple's attention to detail

### Design Tokens
- **Primary**: #007AFF (iOS blue)
- **Success**: #34C759 (Apple green)
- **Surface**: #FAFAFA (Off-white)
- **Border**: #E5E5E7 (Subtle)
- **Spacing**: 4px grid system
- **Radius**: 8px standard
- **Font**: Inter
- **Animation**: 200ms spring

## Development Standards

### Code Quality
- No comments unless requested
- TypeScript for type safety
- Proper error handling
- Mobile-first responsive
- Performance optimized

### UI/UX Requirements
- Micro-interactions on all interactive elements
- Spring physics animations
- Custom loading states (no spinners)
- Specific error messages
- Real placeholder text

### Testing
- Unit tests for business logic
- Integration tests for APIs
- E2E tests for critical flows
- 80% coverage target

## Project Structure
```
/
├── app/                # Next.js app directory
│   ├── (landing)/     # Public review flow
│   ├── (admin)/       # Admin dashboard
│   ├── (client)/      # Client portal
│   └── api/           # API routes
├── components/        # Reusable components
│   ├── ui/           # Base UI components
│   ├── landing/      # Landing specific
│   ├── admin/        # Admin specific
│   └── client/       # Client specific
├── lib/              # Utilities & helpers
├── prisma/           # Database schema
├── types/            # TypeScript definitions
└── public/           # Static assets
```

## Key Features

### QR Code System
- Dynamic generation per table/location
- Tracking and analytics
- Customizable landing pages
- Multi-language support

### Review Management
- Real-time collection
- Sentiment analysis
- Automated responses
- Google Reviews integration

### Analytics Dashboard
- Real-time metrics
- Trend analysis
- Competitor benchmarking
- Custom reports

### Multi-tenancy
- Role-based access
- Location management
- Staff accounts
- Centralized billing

## Development Commands
```bash
npm run dev          # Start dev server
npm run build        # Build production
npm run test         # Run tests
npm run lint         # ESLint check
npm run typecheck    # TypeScript check
npm run db:migrate   # Run migrations
npm run db:studio    # Prisma Studio
```

## Environment Variables
```env
DATABASE_URL=
NEXTAUTH_SECRET=
NEXTAUTH_URL=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
```

## Performance Targets
- Lighthouse score > 90
- First paint < 1s
- Full load < 2s
- 99.9% uptime

## Security Considerations
- Input validation on all endpoints
- SQL injection prevention (Prisma)
- XSS protection (React)
- CSRF tokens
- Rate limiting
- No PII storage for end-users

## Current Phase
Setting up foundation with:
1. Project structure
2. Database schema
3. Authentication system
4. Core components
5. API architecture

## Next Steps
1. Implement review collection flow
2. Build admin dashboard
3. Create client portal
4. Add analytics engine
5. Deploy to production